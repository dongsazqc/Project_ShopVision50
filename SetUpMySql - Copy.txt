1️⃣ Chuẩn bị VPS

OS: Ubuntu 22.04 LTS (Server, minimal nếu có)

CPU 2 cores, RAM 2GB

Login VPS qua SSH:

ssh root@<IP_VPS>

2️⃣ Cập nhật hệ thống
sudo apt update && sudo apt upgrade -y


⚠️ Lỗi gặp: Thông báo kernel mới hoặc file sshd_config:

Newer kernel available … → ignore / reboot khi muốn.

sshd_config modified → chọn keep local version.

✅ Check kernel / services:

sudo systemctl status

3️⃣ Cài MySQL Server
sudo apt install -y mysql-server


⚠️ Lỗi gặp: 404 Not Found khi apt lấy package.

Fix: đổi mirror từ de.archive.ubuntu.com → archive.ubuntu.com

sudo sed -i 's|http://de.archive.ubuntu.com/ubuntu/|http://archive.ubuntu.com/ubuntu/|g' /etc/apt/sources.list
sudo apt update
sudo apt install -y mysql-server

4️⃣ Cấu hình MySQL ban đầu
sudo mysql_secure_installation


Validate password → tắt (No) để đơn giản.

Remove anonymous users → Yes.

Disallow root remote login → No (nếu muốn FE remote dùng root, không khuyến khích).

Remove test database → Yes.

Reload privilege tables → Yes.

5️⃣ Tạo Database + User
sudo mysql -u root -p


Trong MySQL prompt:

CREATE DATABASE Api50Group;

-- Tạo user remote + localhost
CREATE USER 'Group50'@'%' IDENTIFIED BY 'PasswordMoi123!';
CREATE USER 'Group50'@'localhost' IDENTIFIED BY 'PasswordMoi123!';

GRANT ALL PRIVILEGES ON Api50Group.* TO 'Group50'@'%';
GRANT ALL PRIVILEGES ON Api50Group.* TO 'Group50'@'localhost';

FLUSH PRIVILEGES;
EXIT;


✅ Lỗi thường gặp: Access denied khi login vì user chỉ có % → fix tạo thêm localhost.

6️⃣ Cấu hình MySQL cho remote

Edit file /etc/mysql/mysql.conf.d/mysqld.cnf:

bind-address = 0.0.0.0


Restart MySQL:

sudo systemctl restart mysql

7️⃣ Bật firewall và mở port 3306
sudo ufw enable
sudo ufw allow 22/tcp     # SSH
sudo ufw allow 3306/tcp   # MySQL remote
sudo ufw status verbose


⚠️ Lỗi gặp: ufw inactive → phải enable mới có tác dụng.

Nếu VPS vẫn không connect được → check provider firewall / NAT / cloud panel.

8️⃣ Test kết nối từ laptop / FE
Bước 1: Test network
ping <IP_VPS>
Test-NetConnection -ComputerName <IP_VPS> -Port 3306


True → mạng ok và port mở.

False → check firewall (UFW + provider).

Bước 2: Test MySQL login
mysql -u Group50 -p -h 127.0.0.1 Api50Group   # trên VPS
mysql -u Group50 -p -h <IP_VPS> Api50Group    # trên FE


Nhập PasswordMoi123! → phải login được.

9️⃣ MySQL Workbench

Hostname: <IP_VPS>

Port: 3306

Username: Group50

Password: PasswordMoi123!

Default Schema: Api50Group → optional, để Workbench mở mặc định database đó.